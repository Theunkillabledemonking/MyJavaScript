<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Creation Practice</title>
  </head>
  <body>
    <script>
      // -----------------------------------------------------
      // 🏗️ 1. 기본 구조 생성
      // - wrapper (전체 컨테이너)
      // - header (헤더 영역)
      // - inputField (입력 필드)
      // - itemListContainer (할 일 목록 컨테이너)
      // -----------------------------------------------------
      const wrapper = document.createElement('div'); // 전체 감싸는 컨테이너
      const header = document.createElement('div'); // 헤더 영역
      const inputField = document.createElement('div'); // 입력 필드 영역
      const itemListContainer = document.createElement('div'); // 할 일 목록 컨테이너
      
      // wrapper에 하위 요소 추가
      wrapper.appendChild(header);
      wrapper.appendChild(inputField);
      wrapper.appendChild(itemListContainer);

      // body에 wrapper 추가
      document.body.appendChild(wrapper);

      // -----------------------------------------------------
      // 🛠️ 2. createElement 함수 (DOM 요소를 동적으로 생성)
      // - 특정 태그를 생성하고 속성을 할당한 뒤 부모에 추가하는 함수
      // - `count` 값에 따라 여러 개의 요소를 생성할 수도 있음
      // -----------------------------------------------------
      function createElement({
        tagName,       // 생성할 태그명 (예: 'div', 'span', 'button' 등)
        properties,    // 요소에 추가할 속성들 (예: { innerText: 'hello' })
        parent,        // 생성된 요소가 추가될 부모 요소
        children,      // 자식 요소 목록 (재귀적으로 생성 가능)
        count = 1      // 요소를 몇 개 생성할지 (기본값: 1)
      }) {
        // 내부에서 요소를 생성하는 함수 (count가 1보다 클 때 여러 개 생성 가능)
        const create = () => {
          const element = document.createElement(tagName); // 태그 생성
          Object.assign(element, properties); // 속성 할당 (ex: innerText, className 등)

          // 부모 요소가 존재하면 추가
          if (parent) {
            parent.appendChild(element);
          }

          // 자식 요소가 존재하면 재귀적으로 추가
          if (children) {
            children.forEach((child) => {
              child.parent = element;
              createElement(child); // 재귀 호출
            });
          }

          return element;
        };

        // count가 1보다 크면 여러 개 생성
        if (count > 1) {
          const results = [];
          for (let i = 0; i < count; i++) {
            results.push(create());
          }
          return results; // 여러 개의 요소를 배열로 반환
        } else {
          return create(); // 단일 요소 반환
        }
      }

      // -----------------------------------------------------
      // 🎯 3. createElement 함수를 사용하여 요소 생성 테스트
      // - div 태그 10개 생성 후 콘솔 출력
      // -----------------------------------------------------
      console.log(
        createElement({
          tagName: 'div', 
          properties: { innerText: 'create element' }, // div 내부 텍스트
          parent: document.body, // body에 추가
          count: 10, // 10개 생성
        })
      );
    </script>
  </body>
</html>
